$(function(){$(".vm-datepicker").each(function(){var datepicker=$(this);var options={dateFormat:"yy-mm-dd",firstDay:1,changeMonth:true,changeYear:true,beforeShow:function(){setTimeout(function(){datepicker.css("z-index",100)},0)},onClose:function(dateText){if(!isValidDate(dateText)){$(this).val("")}}};if(datepicker.data("min-date")){options["minDate"]=new Date(datepicker.data("min-date"))}if(datepicker.data("max-date")){options["maxDate"]=new Date(datepicker.data("max-date"))}if(datepicker.data("default-date")){options["defaultDate"]=datepicker.data("default-date")}if(datepicker.data("min-date")&&datepicker.data("max-date")){var minYear=new Date(datepicker.data("min-date")).getFullYear();var maxYear=new Date(datepicker.data("max-date")).getFullYear();options["yearRange"]=minYear+":"+maxYear}datepicker.datepicker(options);datepicker.on("blur change",function(){if(!isValidDate($(this).val())){$(this).val("")}})})});