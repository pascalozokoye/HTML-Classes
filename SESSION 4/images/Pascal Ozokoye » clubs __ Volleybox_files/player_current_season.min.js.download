function playerStillPlaysHereSave(input,connection_id){var confirmingLinkInput=input.closest(".playerConfirm").find('input[name="confirmingLink"]');if(userId=="0"){if(!validateConfirmingLink(confirmingLinkInput)){return}}$.ajax({type:"POST",url:basedir+"ajax/set_player_still_plays_in_club",data:{connection_id:connection_id,season_id:$(".stepsPlayers").first().data("current-season-id"),link:confirmingLinkInput.val()},success:function(data){if(data=="1"){showInfoSaved(input)}}})}function playerLookingClub(input,connection_id){$.ajax({type:"POST",url:basedir+"ajax/set_player_looking_club",data:{connection_id:connection_id,season_id:$(".stepsPlayers").first().data("current-season-id")},success:function(data){if(data=="1"){showInfoSaved(input)}}})}function currentRosterAddNewClub(input,player_id,club_from_id){var linkConfirmInput=input.closest(".playerClubTransferForm").find('input[name="link"]');var club_to_autocompleter=input.closest(".playerClubTransferForm").find(".item_autocompleter");var club_to_id=input.closest(".playerClubTransferForm").find('input[name="club_to_hid"]').val();validateAddTransfer(player_id,club_from_id,club_to_id,linkConfirmInput,null,$(".stepsPlayers").first().data("current-season-id"),input.closest(".playerClubTransferForm"),null,null,club_to_autocompleter,$(".stepsPlayers").first().data("gender"),input,null)}function playerWontPlayHere(input){input.closest(".playerClubStep1").hide();input.closest(".stepsPlayers").find(".playerClubStep2No").show()}function playerFoundClub(input){input.closest(".stepsPlayers").children("div").hide();input.closest(".stepsPlayers").children(".playerClubTransferForm").show()}function playerConfirmLink(input,option){input.closest(".stepsPlayers").children("div").hide();input.closest(".stepsPlayers").find(".playerConfirm").show();input.closest(".stepsPlayers").find(".playerConfirm").children('input[name="option"]').val(option);var text="";if(option=="S"){text=input.closest(".stepsPlayers").find(".playerConfirm").data("still-plays")}else if(option=="F"){text=vblang("player.finished_career")}input.closest(".stepsPlayers").find(".playerConfirm").children(".infoHeader").text(text)}function playerCurrentSeasonShowStep1(input){input.closest(".stepsPlayers").children("div").hide();input.closest(".stepsPlayers").children(".playerClubStep1").show()}function playerFinishedCareerSave(input,player_id){var confirmingLinkInput=input.closest(".playerConfirm").find('input[name="confirmingLink"]');if($(".stepsPlayers").first().data("need-confirm")&&!validateConfirmingLink(confirmingLinkInput)){return}$.ajax({type:"POST",url:basedir+"ajax/player_finished_career",data:{player_id:player_id,link:confirmingLinkInput.val()},success:function(data){if(data=="1"){showInfoSaved(input)}}})}function playerCurrentSeasonSaveConfirmLink(input,connection_id,player_id){var optionValue=input.closest(".playerConfirm").find('input[name="option"]').val();if(optionValue=="F"){playerFinishedCareerSave(input,player_id)}else if(optionValue=="S"){playerStillPlaysHereSave(input,connection_id)}}